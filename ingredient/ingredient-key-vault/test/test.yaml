name: key-vault-test
shortName: keyvaulttest
version: 1.0.0
ingredients:
  - "@azbake/ingredient-key-vault@0.0.1"
resourceGroup: true
rgOverride: "default"
parallelRegions: false
recipe:
  keyvault:
    properties:
      type: "@azbake/ingredient-key-vault"
      parameters:
        name: "[keyvaultutils.create_resource_name()]"
        location: "northcentralus"
        sku: "standard"
        tenant: "31f75d09-c5c6-46c3-bb35-ba673d15e588"
        enabledForDeployment: true
        enabledForTemplateDeployment: true
        enabledForDiskEncryption: true
        accessPolicies:
          tenantId: "31f75d09-c5c6-46c3-bb35-ba673d15e588"
          permissions:
            - keys:
              - Get
              - List
              - Update
              - Create
              - Import
              - Delete
              - Recover
              - Backup
              - Restore
            - secrets:
              - Get
              - List
              - Set
              - Delete
              - Recover
              - Backup
              - Restore
            - certificates:
              - Get
              - List
              - Update
              - Create
              - Import
              - Delete
              - Recover
              - Backup
              - Restore
              - ManageContacts
              - ManageIssuers
              - GetIssuers
              - ListIssuers
              - SetIssuers
              - DeleteIssuers
        networkAcls:
          defaultAction: "Deny"
          bypass: "AzureServices"
          ipRules: []
          virtualNetworkRules: []
